<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة النصائح</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; direction: rtl; background: #667eea; min-height: 100vh; }
        
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .screen { display: none; }
        .screen.show { display: block; }
        
        .welcome {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-top: 20px;
        }
        
        .emoji { font-size: 80px; margin: 20px 0; }
        h1 { font-size: 40px; color: #667eea; margin: 20px 0; }
        h2 { font-size: 28px; color: #333; margin: 15px 0; }
        p { font-size: 16px; color: #555; margin: 10px 0; }
        
        .student-box { 
            background: #e0e7ff; 
            border: 3px solid #667eea; 
            border-radius: 15px; 
            padding: 20px; 
            margin: 20px 0; 
        }
        
        .student-name { font-size: 26px; font-weight: bold; color: #333; }
        
        button {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            width: calc(100% - 20px);
            transition: 0.3s;
        }
        
        .btn-easy { background: #22c55e; color: white; }
        .btn-easy:hover { background: #16a34a; }
        
        .btn-medium { background: #eab308; color: black; }
        .btn-medium:hover { background: #ca8a04; }
        
        .btn-hard { background: #ef4444; color: white; }
        .btn-hard:hover { background: #dc2626; }
        
        .btn-blue { background: #3b82f6; color: white; }
        .btn-blue:hover { background: #1e40af; }
        
        .game-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .score-box {
            background: #f0f0f0;
            padding: 10px 15px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 16px;
            flex: 1;
            text-align: center;
        }
        
        .timer { background: #22c55e !important; color: white; }
        .timer.warn { background: #eab308 !important; }
        .timer.danger { background: #ef4444 !important; color: white; }
        
        .question { font-size: 24px; font-weight: bold; text-align: center; margin: 30px 0; }
        
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 30px 0; }
        
        .option-btn {
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
        }
        
        .option-btn.correct { background: #22c55e; }
        .option-btn.wrong { background: #ef4444; }
        
        .feedback { text-align: center; font-size: 24px; font-weight: bold; margin: 20px 0; }
        
        .reward { background: #fef3c7; border: 2px solid #fbbf24; border-radius: 10px; padding: 15px; margin: 20px 0; display: none; }
        .reward.show { display: block; }
        
        .next-btn { width: 100%; padding: 15px; display: none; margin-top: 20px; }
        .next-btn.show { display: block; }
        
        .finish {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-top: 20px;
        }
        
        .finish-emoji { font-size: 100px; }
        .final-score { font-size: 40px; font-weight: bold; color: #22c55e; margin: 20px 0; }
        
        .stats-box {
            background: #f0f0f0;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-around;
            gap: 20px;
        }
        
        .stat-correct {
            background: #dcfce7;
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 15px;
            flex: 1;
            text-align: center;
        }
        
        .stat-wrong {
            background: #fee2e2;
            border: 2px solid #ef4444;
            border-radius: 10px;
            padding: 15px;
            flex: 1;
            text-align: center;
        }
        
        .stat-number { font-size: 32px; color: #333; margin: 5px 0; }
        .stat-label { font-size: 14px; color: #666; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="welcome" class="screen show">
        <div class="welcome">
            <div class="emoji">💡</div>
            <h1>لعبة النصائح المشروطة</h1>
            <h2>🎮 مرحباً بك!</h2>
            
            <div class="student-box">
                <p>👨‍🎓 الطالب:</p>
                <p class="student-name">أحمد عبد الغفار</p>
            </div>
            
            <div class="student-box">
                <p>💡 اختر المستوى المناسب لك وأجب على 10 أسئلة</p>
                <p><strong>كل إجابة صحيحة = 5 نقاط + نصيحة 🌱</strong></p>
            </div>
            
            <button class="btn-easy" onclick="start('easy')">🌱 سهل</button>
            <button class="btn-medium" onclick="start('medium')">⚡ متوسط</button>
            <button class="btn-hard" onclick="start('hard')">🔥 صعب</button>
            
            <hr style="margin: 30px 0; border: none; border-top: 2px solid #ddd;">
            
            <h2 style="font-size: 20px; margin: 20px 0;">العاب أخرى</h2>
            <a href="https://worm-game-seven.vercel.app/" target="_blank" style="display: block; margin: 10px 0;">
                <button style="background: #764ba2; width: 100%; padding: 15px;">🐛 لعبة الدودة الجشعة</button>
            </a>
        </div>
    </div>
    
    <div id="game" class="screen">
        <div class="game-card">
            <div class="top-bar">
                <div class="score-box">🏆 <span id="score">0</span></div>
                <div class="score-box timer" id="timerBox">⏱️ <span id="timer">30</span></div>
                <div class="score-box">السؤال <span id="qnum">1</span>/10</div>
            </div>
            
            <p style="text-align: center; color: #999; font-size: 12px;">اضغط ESC للإيقاف</p>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="feedback" id="feedback"></div>
            
            <div class="reward" id="reward">
                <h3>💚 نصيحة ذهبية:</h3>
                <p id="reward-text"></p>
            </div>
            
            <button class="btn-blue next-btn" id="nextBtn" onclick="next()">التالي ➜</button>
        </div>
    </div>
    
    <div id="finish" class="screen">
        <div class="finish">
            <div class="finish-emoji">🎉</div>
            <h2>انتهت اللعبة!</h2>
            <p class="final-score" id="finalScore">0 نقطة</p>
            
            <div class="stats-box">
                <div class="stat-item">
                    <div class="stat-correct">
                        <div class="stat-number" id="correctCount">0</div>
                        <div class="stat-label">✅ إجابات صحيحة</div>
                    </div>
                    <div class="stat-wrong">
                        <div class="stat-number" id="wrongCount">0</div>
                        <div class="stat-label">❌ إجابات خطأ</div>
                    </div>
                </div>
            </div>
            
            <p>شكراً لك على المساهمة! 🌍</p>
            
            <button class="btn-blue" onclick="goHome()">العودة للبداية 🏠</button>
            <button class="btn-easy" onclick="start(game.level)">العب مجدداً 🔄</button>
        </div>
    </div>
    
    <div id="pauseBg" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000;">
        <div class="welcome" style="width: 90%; max-width: 400px;">
            <h2>⏸️ تم الإيقاف</h2>
            <button class="btn-blue" onclick="pauseGame(false)">▶️ استمرار</button>
            <button class="btn-medium" onclick="start(game.level)">🔄 إعادة</button>
            <button class="btn-hard" onclick="goHome()">⛔ إيقاف</button>
        </div>
    </div>
</div>

<script>
const easyQuestions = [
    { q: '1 + 1 = ؟', a: '2', opts: ['1', '2', '3', '4'] },
    { q: '10 - 3 = ؟', a: '7', opts: ['5', '7', '9', '6'] },
    { q: '5 + 5 = ؟', a: '10', opts: ['8', '10', '12', '15'] },
    { q: '2 × 3 = ؟', a: '6', opts: ['4', '5', '6', '8'] },
    { q: '8 ÷ 2 = ؟', a: '4', opts: ['3', '4', '5', '6'] },
    { q: 'كم عدد أصابع اليد؟', a: '5', opts: ['4', '5', '6', '7'] },
    { q: 'كم عدد أيام الأسبوع؟', a: '7', opts: ['5', '6', '7', '8'] },
    { q: 'أين تشرق الشمس؟', a: 'الشرق', opts: ['الغرب', 'الشرق', 'الشمال', 'الجنوب'] },
    { q: 'ما لون البحر؟', a: 'أزرق', opts: ['أخضر', 'أزرق', 'أحمر', 'أسود'] },
    { q: 'كم عدد أشهر السنة؟', a: '12', opts: ['10', '11', '12', '13'] },
    { q: 'كم عدد ساعات اليوم؟', a: '24', opts: ['12', '20', '24', '30'] },
    { q: 'ما لون العلم السعودي؟', a: 'أخضر', opts: ['أحمر', 'أخضر', 'أزرق', 'أسود'] },
    { q: '3 + 4 = ؟', a: '7', opts: ['6', '7', '8', '9'] },
    { q: 'كم عدد أصابع القدم؟', a: '5', opts: ['4', '5', '6', '7'] },
    { q: '9 + 9 = ؟', a: '18', opts: ['16', '17', '18', '19'] },
    { q: '15 - 8 = ؟', a: '7', opts: ['6', '7', '8', '9'] },
    { q: 'ما عاصمة مصر؟', a: 'القاهرة', opts: ['الإسكندرية', 'القاهرة', 'الجيزة', 'أسيوط'] },
    { q: 'ما عاصمة السعودية؟', a: 'الرياض', opts: ['جدة', 'الرياض', 'الدمام', 'مكة'] },
    { q: 'كم عدد قارات الأرض؟', a: '7', opts: ['5', '6', '7', '8'] },
    { q: 'عاصمة الإمارات؟', a: 'أبو ظبي', opts: ['دبي', 'أبو ظبي', 'الشارقة', 'عجمان'] },
    { q: 'متى اتحدت الإمارات؟', a: '1971', opts: ['1968', '1970', '1971', '1975'] },
    { q: 'كم عدد إمارات الإمارات؟', a: '7', opts: ['5', '6', '7', '8'] },
    { q: 'كم عدد أركان الإسلام؟', a: '5', opts: ['3', '4', '5', '6'] },
    { q: 'في أي شهر يصوم المسلمون؟', a: 'رمضان', opts: ['شوال', 'رمضان', 'ذو الحجة', 'محرم'] },
    { q: 'كم عدد حروف الأبجدية العربية؟', a: '28', opts: ['26', '28', '30', '32'] },
    { q: 'كم عدد ألوان قوس قزح؟', a: '7', opts: ['6', '7', '8', '9'] },
    { q: 'ما أكبر كائن بحري؟', a: 'الحوت الأزرق', opts: ['سمك القرش', 'الحوت الأزرق', 'الأخطبوط', 'الدلفين'] },
    { q: '25 × 4 = ؟', a: '100', opts: ['80', '90', '100', '110'] },
    { q: 'كم عدد أسنان الإنسان البالغ؟', a: '32', opts: ['28', '30', '32', '36'] },
    { q: 'كم عدد أركان الإيمان؟', a: '6', opts: ['5', '6', '7', '8'] },
    { q: 'ما أكبر محيط في العالم؟', a: 'الهادئ', opts: ['الأطلسي', 'الهادئ', 'الهندي', 'المتجمد'] },
    { q: 'كم عدد سور القرآن؟', a: '114', opts: ['110', '112', '114', '116'] },
    { q: 'كم عدد أيام السنة؟', a: '365', opts: ['360', '365', '370', '375'] },
    { q: '30 + 70 = ؟', a: '100', opts: ['90', '100', '110', '120'] },
    { q: 'كم عدد جزر الإمارات؟', a: '200', opts: ['100', '200', '300', '400'] },
    { q: 'ما أصغر قارة؟', a: 'أستراليا', opts: ['أفريقيا', 'أستراليا', 'أوروبا', 'آسيا'] },
    { q: 'كم عدد دول مجلس التعاون؟', a: '6', opts: ['5', '6', '7', '8'] },
    { q: 'أين تغرب الشمس؟', a: 'الغرب', opts: ['الشرق', 'الغرب', 'الشمال', 'الجنوب'] },
    { q: 'كم عدد أطراف نجمة البحر؟', a: '5', opts: ['4', '5', '6', '7'] },
    { q: '50 ÷ 5 = ؟', a: '10', opts: ['8', '9', '10', '11'] },
    { q: 'ما أطول نهر في الشرق الأوسط؟', a: 'الفرات', opts: ['النيل', 'الفرات', 'الدجلة', 'الأردن'] }
];

const mediumQuestions = [
    { q: '15 + 25 = ؟', a: '40', opts: ['35', '40', '45', '50'] },
    { q: '100 - 50 = ؟', a: '50', opts: ['40', '45', '50', '55'] },
    { q: '20 × 5 = ؟', a: '100', opts: ['80', '90', '100', '110'] },
    { q: '144 ÷ 12 = ؟', a: '12', opts: ['10', '12', '14', '16'] },
    { q: 'كم عدد أحرف كلمة "أسد"؟', a: '3', opts: ['2', '3', '4', '5'] },
    { q: 'ما الفعل الماضي لكلمة "يكتب"؟', a: 'كتب', opts: ['يكتب', 'كتب', 'اكتب', 'كاتب'] },
    { q: 'من هو خليفة الرسول الأول؟', a: 'أبو بكر الصديق', opts: ['عمر', 'أبو بكر الصديق', 'عثمان', 'علي'] },
    { q: 'في أي عام هاجر النبي؟', a: '622', opts: ['600', '622', '640', '660'] },
    { q: 'كم عدد الخلفاء الراشدين؟', a: '4', opts: ['3', '4', '5', '6'] },
    { q: 'عاصمة تركيا؟', a: 'أنقرة', opts: ['إسطنبول', 'أنقرة', 'إزمير', 'بورصة'] },
    { q: 'كم عدد سكان العالم تقريباً؟', a: '8 مليار', opts: ['7', '8 مليار', '9', '10'] },
    { q: 'ما أكبر دولة أفريقية؟', a: 'نيجيريا', opts: ['مصر', 'نيجيريا', 'إثيوبيا', 'الكونغو'] },
    { q: 'ما أكبر مدينة في الإمارات؟', a: 'دبي', opts: ['أبو ظبي', 'دبي', 'الشارقة', 'عجمان'] },
    { q: 'في أي إمارة برج خليفة؟', a: 'دبي', opts: ['أبو ظبي', 'دبي', 'الشارقة', 'عجمان'] },
    { q: 'كم عدد بحار العالم؟', a: '5', opts: ['3', '4', '5', '6'] },
    { q: 'ما أعمق محيط؟', a: 'الهادئ', opts: ['الأطلسي', 'الهادئ', 'الهندي', 'المتجمد'] },
    { q: 'ما أطول نهر في العالم؟', a: 'النيل', opts: ['الفرات', 'النيل', 'الأمازون', 'الدانوب'] },
    { q: 'كم سكان الإمارات تقريباً؟', a: '9 ملايين', opts: ['5', '9 ملايين', '12', '15'] },
    { q: 'كم أيام شهر رمضان؟', a: '29 أو 30', opts: ['27', '28', '29 أو 30', '31'] },
    { q: 'ما أطول سورة في القرآن؟', a: 'البقرة', opts: ['آل عمران', 'البقرة', 'النساء', 'المائدة'] },
    { q: 'ركعات صلاة الجمعة؟', a: '2', opts: ['1', '2', '3', '4'] },
    { q: 'عاصمة كندا؟', a: 'أوتاوا', opts: ['تورنتو', 'أوتاوا', 'مونتريال', 'فانكوفر'] },
    { q: 'عاصمة قطر؟', a: 'الدوحة', opts: ['الريان', 'الدوحة', 'الوكرة', 'أم صلال'] },
    { q: 'من أول من آمن بالنبي؟', a: 'خديجة', opts: ['علي', 'خديجة', 'أبو بكر', 'عمر'] },
    { q: '200 - 120 = ؟', a: '80', opts: ['70', '80', '90', '100'] },
    { q: 'أيام شهر ديسمبر؟', a: '31', opts: ['28', '29', '30', '31'] },
    { q: 'عاصمة الأردن؟', a: 'عمّان', opts: ['إربد', 'عمّان', 'الزرقاء', 'مأدبا'] },
    { q: '500 + 500 = ؟', a: '1000', opts: ['900', '1000', '1100', '1200'] },
    { q: 'السنة الكبيسة؟', a: '366', opts: ['364', '365', '366', '367'] },
    { q: 'أركان الحج الأساسية؟', a: '4', opts: ['3', '4', '5', '6'] },
    { q: 'أصغر دول العالم؟', a: 'الفاتيكان', opts: ['موناكو', 'الفاتيكان', 'لوكسمبرج', 'سان مارينو'] },
    { q: 'أكبر إمارة مساحة؟', a: 'أبو ظبي', opts: ['دبي', 'أبو ظبي', 'الشارقة', 'رأس الخيمة'] },
    { q: 'أكبر بحيرة عذبة؟', a: 'بايكال', opts: ['قزوين', 'بايكال', 'السوبيريور', 'تنجانيقا'] },
    { q: 'كم عدد الأنبياء في القرآن؟', a: '25', opts: ['20', '25', '30', '35'] },
    { q: 'ما معنى كلمة الأرق؟', a: 'عدم النوم', opts: ['الحزن', 'عدم النوم', 'الخوف', 'الألم'] },
    { q: '350 + 150 = ؟', a: '500', opts: ['450', '500', '550', '600'] }
];

const hardQuestions = [
    { q: '√729 = ؟', a: '27', opts: ['24', '25', '27', '30'] },
    { q: 'كم عدد أحزاب القرآن؟', a: '60', opts: ['50', '60', '70', '80'] },
    { q: 'من مؤسس الدولة العثمانية؟', a: 'عثمان بك', opts: ['محمد الفاتح', 'عثمان بك', 'سليمان', 'مراد'] },
    { q: 'في أي سنة فتح المسلمون الأندلس؟', a: '711', opts: ['700', '711', '720', '735'] },
    { q: 'كم عدد أعضاء مجلس الأمن الدائمين؟', a: '5', opts: ['3', '4', '5', '6'] },
    { q: 'ما هو أعمق محيط في العالم؟', a: 'الهادئ', opts: ['الأطلسي', 'الهادئ', 'الهندي', 'المتجمد'] },
    { q: 'كم عدد دول الاتحاد الأوروبي؟', a: '27', opts: ['25', '26', '27', '28'] },
    { q: 'من مؤسس الإمارات؟', a: 'الشيخ زايد بن سلطان', opts: ['محمد بن راشد', 'الشيخ زايد بن سلطان', 'خليفة', 'سلطان'] },
    { q: 'متى تأسست الإمارات؟', a: '1971', opts: ['1970', '1971', '1972', '1973'] },
    { q: 'ما أعمق نقطة في المحيطات (بالمتر)؟', a: '11000', opts: ['8000', '10000', '11000', '13000'] },
    { q: 'كم عدد محيطات العالم؟', a: '5', opts: ['3', '4', '5', '6'] },
    { q: 'أكبر بحيرة في العالم؟', a: 'بحر قزوين', opts: ['بحر قزوين', 'بايكال', 'تنجانيقا', 'السوبيريور'] },
    { q: 'أطول جزيرة في العالم؟', a: 'جرينلاند', opts: ['مدغشقر', 'جرينلاند', 'بورنيو', 'سومطرة'] },
    { q: 'من رائد الفيزياء النسبية؟', a: 'أينشتاين', opts: ['تسلا', 'أينشتاين', 'بلانك', 'رذرفورد'] },
    { q: 'كم عدد كواكب المجموعة الشمسية؟', a: '8', opts: ['7', '8', '9', '10'] },
    { q: 'أكبر جزيرة في البحر المتوسط؟', a: 'صقلية', opts: ['كريت', 'صقلية', 'قبرص', 'رودس'] },
    { q: 'أطول قناة اصطناعية في العالم؟', a: 'قناة السويس', opts: ['قناة بنما', 'قناة السويس', 'قناة الدانوب', 'أمستردام'] },
    { q: 'كم عمق أعمق نقطة في البحر الأحمر؟', a: '3040', opts: ['2500', '3040', '3500', '4000'] },
    { q: 'ما أعلى جبل في الإمارات؟', a: 'جبل جيس', opts: ['جبل حفيت', 'جبل جيس', 'جبل مرة', 'جبل القاهرة'] },
    { q: 'كم عدد أيام الدورة القمرية؟', a: '29.5', opts: ['27.3', '28', '29.5', '30'] },
    { q: 'ما أقسام العلوم الإسلامية الثلاثة؟', a: '3', opts: ['2', '3', '4', '5'] },
    { q: 'كم عدد دول آسيا تقريباً؟', a: '48', opts: ['45', '48', '50', '52'] },
    { q: 'ما أكبر صحراء في العالم من حيث الرمل؟', a: 'الربع الخالي', opts: ['الكلهاري', 'الربع الخالي', 'جوبي', 'أتاكاما'] },
    { q: 'كم عدد أركان الإسلام الخمسة؟', a: '5', opts: ['3', '4', '5', '6'] },
    { q: 'في أي سنة سقطت الدولة العثمانية؟', a: '1922', opts: ['1900', '1920', '1922', '1925'] },
    { q: 'ما أكبر دولة إسلامية من حيث المساحة؟', a: 'كازاخستان', opts: ['إندونيسيا', 'كازاخستان', 'إيران', 'السعودية'] },
    { q: 'كم عدد دول الشرق الأوسط تقريباً؟', a: '17', opts: ['15', '16', '17', '18'] },
    { q: 'ما أطول سلسلة جبال في العالم؟', a: 'الأنديز', opts: ['الهيمالايا', 'الأنديز', 'الروكي', 'جبال الأطلس'] },
    { q: 'كم عدد لغات العالم تقريباً؟', a: '7000', opts: ['5000', '6000', '7000', '8000'] },
    { q: 'ما أقدم حضارة في العالم؟', a: 'السومرية', opts: ['المصرية', 'السومرية', 'الفرعونية', 'الإغريقية'] },
    { q: 'كم عدد أسفار التوراة؟', a: '39', opts: ['36', '38', '39', '40'] },
    { q: 'ما أكبر دولة أفريقية من حيث السكان الآن؟', a: 'نيجيريا', opts: ['مصر', 'نيجيريا', 'إثيوبيا', 'الكونغو'] },
    { q: 'كم عدد قارات العالم المأهولة بالسكان؟', a: '6', opts: ['5', '6', '7', '8'] },
    { q: 'ما أصغر دولة في العالم من حيث المساحة؟', a: 'الفاتيكان', opts: ['موناكو', 'الفاتيكان', 'سان مارينو', 'ليختنشتاين'] },
    { q: 'كم عدد الدول الساحلية في آسيا؟', a: '28', opts: ['25', '26', '28', '30'] },
    { q: 'ما أعلى هضبة في العالم؟', a: 'هضبة التبت', opts: ['هضبة الأناضول', 'هضبة التبت', 'هضبة إيران', 'هضبة الحبشة'] },
    { q: '2³ + 3² = ؟', a: '17', opts: ['15', '16', '17', '18'] },
    { q: 'كم عدد الدول التي لها حدود برية مع السعودية؟', a: '5', opts: ['4', '5', '6', '7'] },
    { q: 'ما أكبر دلتا في العالم؟', a: 'دلتا النيل', opts: ['دلتا ميكونج', 'دلتا النيل', 'دلتا الأمازون', 'دلتا الجانج'] }
];

const tips = [
    '🌱 احرص على زراعة الأشجار فهي تنقي الهواء',
    '💧 وفر الماء وأغلق الصنبور أثناء الاستحمام',
    '♻️ أعد التدوير - فرّغ القمامة في أماكن مخصصة',
    '🔌 أطفئ الأنوار عندما لا تحتاجها',
    '🚴 استخدم الدراجة بدلاً من السيارة',
    '💪 مارس الرياضة يومياً',
    '😴 نم 8 ساعات يومياً',
    '🥗 اشرب الماء بكثرة',
    '📚 اقرأ كتاباً كل شهر',
    '✏️ ركز في الدرس',
    '❤️ ساعد الآخرين',
    '🤐 كن صادقاً دائماً',
    '😊 ابتسم وانشر الفرح',
    '👂 استمع للآخرين باهتمام',
    '🙏 كن متواضعاً'
];

let game = {
    level: null,
    questions: [],
    current: 0,
    score: 0,
    correct: 0,
    wrong: 0,
    answered: false,
    timer: 30,
    interval: null,
    paused: false
};

function shuffle(arr) {
    return [...arr].sort(() => Math.random() - 0.5);
}

function start(level) {
    game.level = level;
    let levelQuestions = easyQuestions;
    if (level === 'medium') levelQuestions = mediumQuestions;
    if (level === 'hard') levelQuestions = hardQuestions;
    
    game.questions = shuffle(levelQuestions).slice(0, 10);
    game.current = 0;
    game.score = 0;
    game.correct = 0;
    game.wrong = 0;
    game.answered = false;
    game.timer = 30;
    game.paused = false;
    
    document.getElementById('welcome').classList.remove('show');
    document.getElementById('finish').classList.remove('show');
    document.getElementById('game').classList.add('show');
    
    setTimeout(() => {
        showQuestion();
        startTimer();
    }, 100);
}

function showQuestion() {
    const q = game.questions[game.current];
    const opts = shuffle(q.opts);
    
    document.getElementById('question').textContent = q.q;
    document.getElementById('qnum').textContent = game.current + 1;
    document.getElementById('score').textContent = game.score;
    document.getElementById('feedback').textContent = '';
    document.getElementById('reward').classList.remove('show');
    document.getElementById('nextBtn').classList.remove('show');
    
    const optsContainer = document.getElementById('options');
    optsContainer.innerHTML = '';
    
    opts.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt;
        btn.disabled = false;
        btn.onclick = () => answer(opt, q.a);
        optsContainer.appendChild(btn);
    });
    
    game.answered = false;
}

function answer(selected, correct) {
    if (game.answered) return;
    game.answered = true;
    
    document.querySelectorAll('.option-btn').forEach(btn => {
        btn.disabled = true;
        if (btn.textContent === correct) btn.classList.add('correct');
        else if (btn.textContent === selected) btn.classList.add('wrong');
    });
    
    if (selected === correct) {
        document.getElementById('feedback').textContent = '✨ صحيح!';
        game.score += 5;
        game.correct++;
        document.getElementById('score').textContent = game.score;
        document.getElementById('reward-text').textContent = tips[Math.floor(Math.random() * tips.length)];
        document.getElementById('reward').classList.add('show');
    } else {
        document.getElementById('feedback').textContent = '❌ خطأ';
        game.wrong++;
    }
    
    document.getElementById('nextBtn').classList.add('show');
}

function next() {
    if (game.current < game.questions.length - 1) {
        game.current++;
        game.timer = 30;
        game.answered = false;
        document.getElementById('feedback').textContent = '';
        document.getElementById('reward').classList.remove('show');
        document.getElementById('nextBtn').classList.remove('show');
        showQuestion();
    } else {
        finish();
    }
}

function startTimer() {
    if (game.interval) clearInterval(game.interval);
    game.interval = setInterval(() => {
        if (!game.paused) {
            game.timer--;
            document.getElementById('timer').textContent = game.timer;
            
            const box = document.getElementById('timerBox');
            if (game.timer > 10) box.className = 'score-box timer';
            else if (game.timer > 5) box.className = 'score-box timer warn';
            else box.className = 'score-box timer danger';
            
            if (game.timer < 0) next();
        }
    }, 1000);
}

function finish() {
    clearInterval(game.interval);
    document.getElementById('game').classList.remove('show');
    document.getElementById('finish').classList.add('show');
    document.getElementById('finalScore').textContent = game.score + ' نقطة';
    document.getElementById('correctCount').textContent = game.correct;
    document.getElementById('wrongCount').textContent = game.wrong;
}

function goHome() {
    clearInterval(game.interval);
    document.getElementById('welcome').classList.add('show');
    document.getElementById('game').classList.remove('show');
    document.getElementById('finish').classList.remove('show');
    document.getElementById('pauseBg').classList.add('hidden');
}

function pauseGame(paused) {
    game.paused = paused;
    if (paused) document.getElementById('pauseBg').classList.remove('hidden');
    else document.getElementById('pauseBg').classList.add('hidden');
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && document.getElementById('game').classList.contains('show')) {
        pauseGame(!game.paused);
    }
});
</script>

</body>
</html>