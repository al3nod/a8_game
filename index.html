<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; direction: rtl; background: #667eea; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .screen { display: none; }
        .screen.show { display: block; }
        .welcome { background: white; border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.2); margin-top: 20px; }
        .emoji { font-size: 80px; margin: 20px 0; }
        h1 { font-size: 40px; color: #667eea; margin: 20px 0; }
        h2 { font-size: 28px; color: #333; margin: 15px 0; }
        p { font-size: 16px; color: #555; margin: 10px 0; }
        .student-box { background: #e0e7ff; border: 3px solid #667eea; border-radius: 15px; padding: 20px; margin: 20px 0; }
        .student-name { font-size: 26px; font-weight: bold; color: #333; }
        button { padding: 15px 30px; font-size: 18px; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; margin: 10px; width: calc(100% - 20px); transition: all 0.3s; }
        button:active { transform: scale(0.95); }
        .btn-easy { background: #22c55e; color: white; }
        .btn-easy:hover { background: #16a34a; }
        .btn-medium { background: #eab308; color: black; }
        .btn-medium:hover { background: #ca8a04; }
        .btn-hard { background: #ef4444; color: white; }
        .btn-hard:hover { background: #dc2626; }
        .btn-blue { background: #3b82f6; color: white; }
        .btn-blue:hover { background: #1e40af; }
        .btn-purple { background: #764ba2; color: white; }
        .btn-purple:hover { background: #5a3a7d; }
        .game-card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .top-bar { display: flex; justify-content: space-between; margin-bottom: 20px; gap: 10px; }
        .score-box { background: #f0f0f0; padding: 10px 15px; border-radius: 50px; font-weight: bold; font-size: 16px; flex: 1; text-align: center; }
        .timer { background: #22c55e !important; color: white; }
        .timer.warn { background: #eab308 !important; }
        .timer.danger { background: #ef4444 !important; color: white; }
        .question { font-size: 24px; font-weight: bold; text-align: center; margin: 30px 0; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 30px 0; }
        .option-btn { padding: 15px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; font-weight: bold; font-size: 16px; cursor: pointer; transition: all 0.3s; }
        .option-btn:hover:not(:disabled) { transform: scale(1.05); }
        .option-btn:active { transform: scale(0.95); }
        .option-btn:disabled { cursor: not-allowed; opacity: 0.7; }
        .option-btn.correct { background: #22c55e; }
        .option-btn.wrong { background: #ef4444; }
        .feedback { text-align: center; font-size: 20px; font-weight: bold; margin: 20px 0; min-height: 30px; }
        .reward { background: #fef3c7; border: 2px solid #fbbf24; border-radius: 10px; padding: 15px; margin: 20px 0; display: none; }
        .reward.show { display: block; }
        .next-btn { width: 100%; padding: 15px; display: none; margin-top: 20px; }
        .next-btn.show { display: block; }
        .finish { background: white; border-radius: 20px; padding: 40px; text-align: center; margin-top: 20px; }
        .finish-emoji { font-size: 100px; }
        .final-score { font-size: 40px; font-weight: bold; color: #22c55e; margin: 20px 0; }
        .stats-box { background: #f0f0f0; border-radius: 15px; padding: 25px; margin: 20px 0; }
        .stat-item { display: flex; justify-content: space-around; gap: 20px; }
        .stat-correct { background: #dcfce7; border: 2px solid #22c55e; border-radius: 10px; padding: 15px; flex: 1; text-align: center; }
        .stat-wrong { background: #fee2e2; border: 2px solid #ef4444; border-radius: 10px; padding: 15px; flex: 1; text-align: center; }
        .stat-number { font-size: 32px; color: #333; margin: 5px 0; }
        .stat-label { font-size: 14px; color: #666; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="welcome" class="screen show">
        <div class="welcome">
            <div class="emoji">ğŸ’¡</div>
            <h1>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø´Ø±ÙˆØ·Ø©</h1>
            <h2>ğŸ® Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ!</h2>
            
            <div class="student-box">
                <p>ğŸ‘¨â€ğŸ“ Ø§Ù„Ø·Ø§Ù„Ø¨:</p>
                <p class="student-name">Ø£Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„ØºÙØ§Ø±</p>
            </div>
            
            <div class="student-box">
                <p>ğŸ’¡ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ ÙˆØ£Ø¬Ø¨ Ø¹Ù„Ù‰ 10 Ø£Ø³Ø¦Ù„Ø©</p>
                <p><strong>ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© = 5 Ù†Ù‚Ø§Ø· + Ù†ØµÙŠØ­Ø© ğŸŒ±</strong></p>
            </div>
            
            <button class="btn-easy" onclick="startGame('easy')">ğŸŒ± Ø³Ù‡Ù„</button>
            <button class="btn-medium" onclick="startGame('medium')">âš¡ Ù…ØªÙˆØ³Ø·</button>
            <button class="btn-hard" onclick="startGame('hard')">ğŸ”¥ ØµØ¹Ø¨</button>
            
            <hr style="margin: 30px 0; border: none; border-top: 2px solid #ddd;">
            
            <h2 style="font-size: 20px; margin: 20px 0;">Ø§Ù„Ø¹Ø§Ø¨ Ø£Ø®Ø±Ù‰</h2>
            <a href="https://worm-game-seven.vercel.app/" target="_blank" style="display: block; margin: 10px 0; text-decoration: none;">
                <button class="btn-purple">ğŸ› Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯ÙˆØ¯Ø© Ø§Ù„Ø¬Ø´Ø¹Ø©</button>
            </a>
            
            <a href="https://a7-game.vercel.app/" target="_blank" style="display: block; margin: 10px 0; text-decoration: none;">
                <button class="btn-purple">ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¬Ø²Ø¡ 2</button>
            </a>
            
            <button class="btn-blue" onclick="showTipsScreen()">ğŸ’¡ 25 Ù†ØµÙŠØ­Ø© Ù…ÙÙŠØ¯Ø©</button>
        </div>
    </div>
    
    <div id="game" class="screen">
        <div class="game-card">
            <div class="top-bar">
                <div class="score-box">ğŸ† <span id="score">0</span></div>
                <div class="score-box timer" id="timerBox">â±ï¸ <span id="timer">30</span></div>
                <div class="score-box">Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="qnum">1</span>/10</div>
            </div>
            
            <p style="text-align: center; color: #999; font-size: 12px;">Ø§Ø¶ØºØ· ESC Ù„Ù„Ø¥ÙŠÙ‚Ø§Ù</p>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="feedback" id="feedback"></div>
            
            <div class="reward" id="reward">
                <h3>ğŸ’š Ù†ØµÙŠØ­Ø© Ø°Ù‡Ø¨ÙŠØ©:</h3>
                <p id="reward-text"></p>
            </div>
            
            <button class="btn-blue next-btn" id="nextBtn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ âœ</button>
        </div>
    </div>
    
    <div id="finish" class="screen">
        <div class="finish">
            <div class="finish-emoji">ğŸ‰</div>
            <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h2>
            <p class="final-score" id="finalScore">0 Ù†Ù‚Ø·Ø©</p>
            
            <div class="stats-box">
                <div class="stat-item">
                    <div class="stat-correct">
                        <div class="stat-number" id="correctCount">0</div>
                        <div class="stat-label">âœ… Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</div>
                    </div>
                    <div class="stat-wrong">
                        <div class="stat-number" id="wrongCount">0</div>
                        <div class="stat-label">âŒ Ø¥Ø¬Ø§Ø¨Ø§Øª Ø®Ø·Ø£</div>
                    </div>
                </div>
            </div>
            
            <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©! ğŸŒ</p>
            
            <button class="btn-blue" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© ğŸ </button>
            <button class="btn-easy" onclick="restartGame()">Ø§Ù„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ ğŸ”„</button>
        </div>
    </div>
    
    <div id="pauseBg" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000;">
        <div class="welcome" style="width: 90%; max-width: 400px;">
            <h2>â¸ï¸ ØªÙ… Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù</h2>
            <button class="btn-blue" onclick="resumeGame()">â–¶ï¸ Ø§Ø³ØªÙ…Ø±Ø§Ø±</button>
            <button class="btn-medium" onclick="restartGame()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="btn-hard" onclick="goHome()">â›” Ø¥ÙŠÙ‚Ø§Ù</button>
        </div>
    </div>
    
    <div id="tipsScreen" class="screen">
        <div class="welcome">
            <h2>ğŸ’¡ 25 Ù†ØµÙŠØ­Ø© Ù…ÙÙŠØ¯Ø©</h2>
            <div style="max-height: 500px; overflow-y: auto; text-align: right; padding: 20px;">
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">1. ğŸŒ± Ø§Ø²Ø±Ø¹ Ø´Ø¬Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">2. ğŸ’§ Ù„Ø§ ØªÙ‡Ø¯Ø± Ø§Ù„Ù…Ø§Ø¡</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">3. â™»ï¸ Ø£Ø¹Ø¯ ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒ</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">4. ğŸ“š Ø§Ù‚Ø±Ø£ ÙƒØªØ§Ø¨Ø§Ù‹ Ø´Ù‡Ø±ÙŠØ§Ù‹</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">5. ğŸƒ Ù…Ø§Ø±Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">6. ğŸ˜´ Ù†Ù… 8 Ø³Ø§Ø¹Ø§Øª</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">7. ğŸ¥— ØªÙ†Ø§ÙˆÙ„ ØµØ­ÙŠ</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">8. ğŸ’§ Ø§Ø´Ø±Ø¨ 8 Ø£ÙƒÙˆØ§Ø¨ Ù…Ø§Ø¡</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">9. ğŸš´ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">10. ğŸ”Œ Ø£Ø·ÙØ¦ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">11. ğŸ˜Š Ø§Ø¨ØªØ³Ù… ÙˆØ§Ù†Ø´Ø± Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">12. ğŸ¤ Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">13. ğŸ™ ÙƒÙ† Ø´Ø§ÙƒØ±Ø§Ù‹</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">14. ğŸ’ª ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">15. ğŸ¯ Ø¶Ø¹ Ø£Ù‡Ø¯Ø§ÙØ§Ù‹ ÙˆØ§Ø¶Ø­Ø©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">16. ğŸ‘‚ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø¢Ø®Ø±ÙŠÙ†</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">17. ğŸ§˜ Ø®Ø° ÙˆÙ‚ØªØ§Ù‹ Ù„Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">18. ğŸ“± Ù‚Ù„Ù„ Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙ</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">19. ğŸŒ Ø§Ø³ØªÙŠÙ‚Ø¸ Ù…Ø¨ÙƒØ±Ø§Ù‹</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">20. ğŸ§¹ Ù†Ø¸Ù ØºØ±ÙØªÙƒ</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">21. â¤ï¸ Ø¹Ø¨Ø± Ø¹Ù† Ø­Ø¨Ùƒ</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">22. ğŸ¨ Ù…Ø§Ø±Ø³ Ù‡ÙˆØ§ÙŠØ©</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">23. ğŸŒ ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø«Ù‚Ø§ÙØ§Øª</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">24. ğŸ¤ ÙƒÙ† ØµØ§Ø¯Ù‚Ø§Ù‹</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">25. ğŸ’­ ÙÙƒØ± Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Ù‹</div>
            </div>
            <button class="btn-blue" onclick="goHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© ğŸ </button>
        </div>
    </div>
</div>

<script>
const tips = ['ğŸŒ± Ø§Ø²Ø±Ø¹ Ø´Ø¬Ø±Ø©', 'ğŸ’§ Ù„Ø§ ØªÙ‡Ø¯Ø± Ø§Ù„Ù…Ø§Ø¡', 'â™»ï¸ Ø£Ø¹Ø¯ Ø§Ù„ØªØ¯ÙˆÙŠØ±', 'ğŸ“š Ø§Ù‚Ø±Ø£ ÙƒØªØ§Ø¨Ø§Ù‹', 'ğŸƒ Ù…Ø§Ø±Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶Ø©', 'ğŸ˜´ Ù†Ù… Ø¨Ø§Ù†ØªØ¸Ø§Ù…', 'ğŸ¥— ØªÙ†Ø§ÙˆÙ„ ØµØ­ÙŠ', 'ğŸ’§ Ø§Ø´Ø±Ø¨ Ù…Ø§Ø¡', 'ğŸš´ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©', 'ğŸ”Œ Ø£Ø·ÙØ¦ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©', 'â³ ÙƒÙ† ØµØ¨ÙˆØ±Ø§Ù‹'];

const easyQuestions = [
    { q: 'Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ', a: 'Ø¬) Ø§Ù„Ù…Ø´ØªØ±ÙŠ', opts: ['Ø£) Ø§Ù„Ø£Ø±Ø¶', 'Ø¨) Ø²Ø­Ù„', 'Ø¬) Ø§Ù„Ù…Ø´ØªØ±ÙŠ', 'Ø¯) Ø§Ù„Ù…Ø±ÙŠØ®'] },
    { q: 'Ù…Ø§ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ', a: 'Ø¨) Ø¨Ø§Ø±ÙŠØ³', opts: ['Ø£) Ù…Ø¯Ø±ÙŠØ¯', 'Ø¨) Ø¨Ø§Ø±ÙŠØ³', 'Ø¬) Ø¨Ø±Ù„ÙŠÙ†', 'Ø¯) Ù„Ù†Ø¯Ù†'] },
    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ', a: 'Ø¨) 5', opts: ['Ø£) 4', 'Ø¨) 5', 'Ø¬) 6', 'Ø¯) 7'] },
    { q: 'Ù…Ù† Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØªØŸ', a: 'Ø¬) ÙŠÙˆÙ†Ø³', opts: ['Ø£) Ù…ÙˆØ³Ù‰', 'Ø¨) Ù†ÙˆØ­', 'Ø¬) ÙŠÙˆÙ†Ø³', 'Ø¯) ÙŠÙˆØ³Ù'] },
    { q: 'Ù…Ù† Ù‡Ùˆ Ù…Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ', a: 'Ø£) Ø£Ø¯ÙŠØ³ÙˆÙ†', opts: ['Ø£) Ø£Ø¯ÙŠØ³ÙˆÙ†', 'Ø¨) Ù†ÙŠÙˆØªÙ†', 'Ø¬) Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†', 'Ø¯) ØºØ§Ù„ÙŠÙ„ÙŠÙˆ'] },
    { q: 'ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªÙ‚Ø¹ Ù…ØµØ±ØŸ', a: 'Ø¨) Ø£ÙØ±ÙŠÙ‚ÙŠØ§', opts: ['Ø£) Ø¢Ø³ÙŠØ§', 'Ø¨) Ø£ÙØ±ÙŠÙ‚ÙŠØ§', 'Ø¬) Ø£ÙˆØ±ÙˆØ¨Ø§', 'Ø¯) Ø£Ù…Ø±ÙŠÙƒØ§'] },
    { q: 'ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„Ø³Ø§Ø¹Ø©ØŸ', a: 'Ø¬) 60', opts: ['Ø£) 30', 'Ø¨) 45', 'Ø¬) 60', 'Ø¯) 90'] },
    { q: 'Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ ÙˆÙ‚Øª Ø§Ù„Ù†Ù‡Ø§Ø±ØŸ', a: 'Ø£) Ø£Ø²Ø±Ù‚', opts: ['Ø£) Ø£Ø²Ø±Ù‚', 'Ø¨) Ø£Ø­Ù…Ø±', 'Ø¬) Ø±Ù…Ø§Ø¯ÙŠ', 'Ø¯) Ø£Ø®Ø¶Ø±'] },
    { q: 'Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙÙ„Ù‚Ø¨ Ø¨Ù€ "Ø³ÙÙŠÙ†Ø© Ø§Ù„ØµØ­Ø±Ø§Ø¡" Ù‡ÙˆØŸ', a: 'Ø¨) Ø§Ù„Ø¬Ù…Ù„', opts: ['Ø£) Ø§Ù„Ø­ØµØ§Ù†', 'Ø¨) Ø§Ù„Ø¬Ù…Ù„', 'Ø¬) Ø§Ù„ØºØ²Ø§Ù„', 'Ø¯) Ø§Ù„ÙÙŠÙ„'] },
    { q: 'Ù…Ø§ Ù‡Ùˆ ØµÙˆØª Ø§Ù„Ù‚Ø·ØŸ', a: 'Ø¨) Ù…ÙˆØ§Ø¡', opts: ['Ø£) Ù†Ø¨Ø§Ø­', 'Ø¨) Ù…ÙˆØ§Ø¡', 'Ø¬) ØµÙ‡ÙŠÙ„', 'Ø¯) Ø²Ø¦ÙŠØ±'] }
];

const mediumQuestions = [
    { q: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ', a: 'Ø¨) Ø§Ù„Ù…Ø±ÙŠØ®', opts: ['Ø£) Ø¹Ø·Ø§Ø±Ø¯', 'Ø¨) Ø§Ù„Ù…Ø±ÙŠØ®', 'Ø¬) Ø²Ø­Ù„', 'Ø¯) Ø§Ù„Ø£Ø±Ø¶'] },
    { q: 'Ù…Ù† Ø£ÙˆÙ„ Ù…Ù† Ø¬Ù‡Ø± Ø¨Ø§Ù„Ù‚Ø±Ø¢Ù† ÙÙŠ Ù…ÙƒØ©ØŸ', a: 'Ø¨) Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù…Ø³Ø¹ÙˆØ¯', opts: ['Ø£) Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨', 'Ø¨) Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù…Ø³Ø¹ÙˆØ¯', 'Ø¬) Ø¨Ù„Ø§Ù„ Ø¨Ù† Ø±Ø¨Ø§Ø­', 'Ø¯) Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨'] },
    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ', a: 'Ø¬) 114', opts: ['Ø£) 110', 'Ø¨) 112', 'Ø¬) 114', 'Ø¯) 116'] },
    { q: 'Ù…Ø§ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', a: 'Ø¬) Ø§Ù„Ù‡Ø§Ø¯ÙŠ', opts: ['Ø£) Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ', 'Ø¨) Ø§Ù„Ù‡Ù†Ø¯ÙŠ', 'Ø¬) Ø§Ù„Ù‡Ø§Ø¯ÙŠ', 'Ø¯) Ø§Ù„Ù…ØªØ¬Ù…Ø¯'] },
    { q: 'ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ØªØ£Ø³Ø³Øª Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ', a: 'Ø¨) 1945', opts: ['Ø£) 1918', 'Ø¨) 1945', 'Ø¬) 1960', 'Ø¯) 1971'] },
    { q: 'Ù…Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ OØŸ', a: 'Ø£) Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†', opts: ['Ø£) Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†', 'Ø¨) Ø§Ù„Ø­Ø¯ÙŠØ¯', 'Ø¬) Ø§Ù„ÙØ¶Ø©', 'Ø¯) Ø§Ù„Ø²Ø¦Ø¨Ù‚'] },
    { q: 'Ù…Ø§ Ø§Ø³Ù… Ø£ÙˆÙ„ Ø®Ù„ÙŠÙØ© Ø¹Ø¨Ø§Ø³ÙŠØŸ', a: 'Ø¨) Ø§Ù„Ø³ÙØ§Ø­', opts: ['Ø£) Ø§Ù„Ù…Ù†ØµÙˆØ±', 'Ø¨) Ø§Ù„Ø³ÙØ§Ø­', 'Ø¬) Ø§Ù„Ø±Ø´ÙŠØ¯', 'Ø¯) Ø§Ù„Ù…Ø¹ØªØµÙ…'] },
    { q: 'ÙƒÙ… Ù‚Ù„Ø¨ Ù„Ù„Ø£Ø®Ø·Ø¨ÙˆØ·ØŸ', a: 'Ø¬) 3', opts: ['Ø£) 1', 'Ø¨) 2', 'Ø¬) 3', 'Ø¯) 4'] },
    { q: 'Ù…Ø§ Ø§Ø³Ù… Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', a: 'Ø£) Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†', opts: ['Ø£) Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†', 'Ø¨) Ø§Ù„Ù†ÙŠÙ„', 'Ø¬) Ø§Ù„Ù…Ø³ÙŠØ³ÙŠØ¨ÙŠ', 'Ø¯) Ø§Ù„Ø¯Ø§Ù†ÙˆØ¨'] },
    { q: 'Ù…Ù† Ø§Ù„Ø°ÙŠ Ø¨Ù†Ù‰ Ø§Ù„ÙƒØ¹Ø¨Ø© Ø£ÙˆÙ„ Ù…Ø±Ø©ØŸ', a: 'Ø£) Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ¥Ø³Ù…Ø§Ø¹ÙŠÙ„', opts: ['Ø£) Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ¥Ø³Ù…Ø§Ø¹ÙŠÙ„', 'Ø¨) Ù†ÙˆØ­', 'Ø¬) ÙŠØ¹Ù‚ÙˆØ¨', 'Ø¯) Ø¢Ø¯Ù…'] }
];

const hardQuestions = [
    { q: 'ÙƒÙ… ÙŠØ¨Ù„Øº Ù‚Ø·Ø± Ø§Ù„Ø£Ø±Ø¶ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ØŸ', a: 'Ø¨) 12,742 ÙƒÙ…', opts: ['Ø£) 10,000 ÙƒÙ…', 'Ø¨) 12,742 ÙƒÙ…', 'Ø¬) 20,000 ÙƒÙ…', 'Ø¯) 8,000 ÙƒÙ…'] },
    { q: 'ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ÙˆÙÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ï·ºØŸ', a: 'Ø¨) 570Ù…', opts: ['Ø£) 520Ù…', 'Ø¨) 570Ù…', 'Ø¬) 600Ù…', 'Ø¯) 610Ù…'] },
    { q: 'Ù…Ù† Ø£ÙˆÙ„ Ù…Ù† ÙˆØ¶Ø¹ Ø¹Ù„Ù… Ø§Ù„Ø¬Ø¨Ø±ØŸ', a: 'Ø£) Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ', opts: ['Ø£) Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ', 'Ø¨) Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§', 'Ø¬) Ø§Ù„ÙØ§Ø±Ø§Ø¨ÙŠ', 'Ø¯) Ø§Ù„Ø¨ÙŠØ±ÙˆÙ†ÙŠ'] },
    { q: 'Ù…Ø§ Ø£ÙˆÙ„ Ù…Ø¹Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ', a: 'Ø¨) Ø¨Ø¯Ø±', opts: ['Ø£) Ø£Ø­Ø¯', 'Ø¨) Ø¨Ø¯Ø±', 'Ø¬) Ø§Ù„Ø®Ù†Ø¯Ù‚', 'Ø¯) ØªØ¨ÙˆÙƒ'] },
    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø­Ø²Ø§Ø¨ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ', a: 'Ø£) 60 Ø­Ø²Ø¨', opts: ['Ø£) 60 Ø­Ø²Ø¨', 'Ø¨) 120', 'Ø¬) 30', 'Ø¯) 90'] },
    { q: 'ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø³Ù‚Ø·Øª Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ØŸ', a: 'Ø¨) 1492', opts: ['Ø£) 1392', 'Ø¨) 1492', 'Ø¬) 1592', 'Ø¯) 1692'] },
    { q: 'Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ø·Ø¨ÙŠØ¨ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ', a: 'Ø£) Ø§Ù„Ø­Ø§Ø±Ø« Ø¨Ù† ÙƒÙ„Ø¯Ø©', opts: ['Ø£) Ø§Ù„Ø­Ø§Ø±Ø« Ø¨Ù† ÙƒÙ„Ø¯Ø©', 'Ø¨) Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§', 'Ø¬) Ø§Ù„Ø±Ø§Ø²ÙŠ', 'Ø¯) Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ'] },
    { q: 'Ù…Ø§ Ø§Ø³Ù… Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø¢Ø³ÙŠØ§ØŸ', a: 'Ø£) Ø§Ù„ÙŠØ§Ù†ØºØªØ³ÙŠ', opts: ['Ø£) Ø§Ù„ÙŠØ§Ù†ØºØªØ³ÙŠ', 'Ø¨) Ø§Ù„Ù…ÙŠÙƒÙˆÙ†Øº', 'Ø¬) Ø§Ù„Ø³Ù†Ø¯', 'Ø¯) Ø§Ù„ÙØ±Ø§Øª'] },
    { q: 'Ù…Ù† Ù‡Ùˆ Ù…ÙƒØªØ´Ù Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¯Ù…ÙˆÙŠØ© Ø§Ù„ØµØºØ±Ù‰ØŸ', a: 'Ø£) Ø§Ø¨Ù† Ø§Ù„Ù†ÙÙŠØ³', opts: ['Ø£) Ø§Ø¨Ù† Ø§Ù„Ù†ÙÙŠØ³', 'Ø¨) Ù‡Ø§Ø±ÙÙŠ', 'Ø¬) Ø§Ù„Ø±Ø§Ø²ÙŠ', 'Ø¯) Ø¬Ø§Ù„ÙŠÙ†ÙˆØ³'] },
    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø¶Ù„Ø§Øª ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ', a: 'Ø¨) 620', opts: ['Ø£) 300', 'Ø¨) 620', 'Ø¬) 700', 'Ø¯) 800'] }
];

const game = {
    level: '',
    questions: [],
    currentQ: 0,
    score: 0,
    correct: 0,
    wrong: 0,
    timer: null,
    timeLeft: 30,
    isPaused: false
};

function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('show'));
    document.getElementById(id).classList.add('show');
}

function startGame(level) {
    game.level = level;
    game.currentQ = 0;
    game.score = 0;
    game.correct = 0;
    game.wrong = 0;
    game.isPaused = false;
    
    if (level === 'easy') game.questions = shuffle([...easyQuestions]).slice(0, 10);
    else if (level === 'medium') game.questions = shuffle([...mediumQuestions]).slice(0, 10);
    else game.questions = shuffle([...hardQuestions]).slice(0, 10);
    
    showScreen('game');
    loadQuestion();
}

function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}

function loadQuestion() {
    if (game.currentQ >= 10) {
        endGame();
        return;
    }
    
    const q = game.questions[game.currentQ];
    document.getElementById('question').textContent = q.q;
    document.getElementById('qnum').textContent = game.currentQ + 1;
    document.getElementById('score').textContent = game.score;
    document.getElementById('feedback').textContent = '';
    document.getElementById('reward').classList.remove('show');
    document.getElementById('nextBtn').classList.remove('show');
    
    const opts = document.getElementById('options');
    opts.innerHTML = '';
    const shuffledOpts = shuffle([...q.opts]);
    
    shuffledOpts.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt, btn);
        opts.appendChild(btn);
    });
    
    startTimer();
}

function startTimer() {
    game.timeLeft = 30;
    const timerEl = document.getElementById('timer');
    const timerBox = document.getElementById('timerBox');
    
    if (game.timer) clearInterval(game.timer);
    
    game.timer = setInterval(() => {
        if (game.isPaused) return;
        
        game.timeLeft--;
        timerEl.textContent = game.timeLeft;
        
        if (game.timeLeft <= 5) timerBox.className = 'score-box timer danger';
        else if (game.timeLeft <= 10) timerBox.className = 'score-box timer warn';
        else timerBox.className = 'score-box timer';
        
        if (game.timeLeft <= 0) {
            clearInterval(game.timer);
            wrongAnswer();
        }
    }, 1000);
}

function checkAnswer(selected, btn) {
    clearInterval(game.timer);
    const q = game.questions[game.currentQ];
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(b => b.disabled = true);
    
    if (selected === q.a) {
        btn.classList.add('correct');
        game.score += 5;
        game.correct++;
        document.getElementById('score').textContent = game.score;
        document.getElementById('feedback').textContent = 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
        document.getElementById('feedback').style.color = '#22c55e';
        
        const tip = tips[Math.floor(Math.random() * tips.length)];
        document.getElementById('reward-text').textContent = tip;
        document.getElementById('reward').classList.add('show');
    } else {
        btn.classList.add('wrong');
        buttons.forEach(b => {
            if (b.textContent === q.a) b.classList.add('correct');
        });
        game.wrong++;
        document.getElementById('feedback').textContent = 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!';
        document.getElementById('feedback').style.color = '#ef4444';
    }
    
    document.getElementById('nextBtn').classList.add('show');
}

function wrongAnswer() {
    const q = game.questions[game.currentQ];
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(b => {
        b.disabled = true;
        if (b.textContent === q.a) b.classList.add('correct');
    });
    game.wrong++;
    document.getElementById('feedback').textContent = 'â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!';
    document.getElementById('feedback').style.color = '#ef4444';
    document.getElementById('nextBtn').classList.add('show');
}

function nextQuestion() {
    game.currentQ++;
    loadQuestion();
}

function endGame() {
    clearInterval(game.timer);
    showScreen('finish');
    document.getElementById('finalScore').textContent = game.score + ' Ù†Ù‚Ø·Ø©';
    document.getElementById('correctCount').textContent = game.correct;
    document.getElementById('wrongCount').textContent = game.wrong;
}

function goHome() {
    clearInterval(game.timer);
    document.getElementById('pauseBg').classList.add('hidden');
    game.isPaused = false;
    showScreen('welcome');
}

function restartGame() {
    clearInterval(game.timer);
    document.getElementById('pauseBg').classList.add('hidden');
    game.isPaused = false;
    startGame(game.level);
}

function showTipsScreen() {
    showScreen('tipsScreen');
}

function resumeGame() {
    game.isPaused = false;
    document.getElementById('pauseBg').classList.remove('hidden');
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && document.getElementById('game').classList.contains('show')) {
        if (game.isPaused) {
            resumeGame();
        } else {
            game.isPaused = true;
            document.getElementById('pauseBg').classList.remove('hidden');
        }
    }
});
</script>
