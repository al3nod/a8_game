<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة النصائح</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; direction: rtl; background: #667eea; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .screen { display: none; }
        .screen.show { display: block; }
        .welcome { background: white; border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.2); margin-top: 20px; }
        .emoji { font-size: 80px; margin: 20px 0; }
        h1 { font-size: 40px; color: #667eea; margin: 20px 0; }
        h2 { font-size: 28px; color: #333; margin: 15px 0; }
        p { font-size: 16px; color: #555; margin: 10px 0; }
        .student-box { background: #e0e7ff; border: 3px solid #667eea; border-radius: 15px; padding: 20px; margin: 20px 0; }
        .student-name { font-size: 26px; font-weight: bold; color: #333; }
        button { padding: 15px 30px; font-size: 18px; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; margin: 10px; width: calc(100% - 20px); transition: all 0.3s; }
        button:active { transform: scale(0.95); }
        .btn-easy { background: #22c55e; color: white; }
        .btn-easy:hover { background: #16a34a; }
        .btn-medium { background: #eab308; color: black; }
        .btn-medium:hover { background: #ca8a04; }
        .btn-hard { background: #ef4444; color: white; }
        .btn-hard:hover { background: #dc2626; }
        .btn-blue { background: #3b82f6; color: white; }
        .btn-blue:hover { background: #1e40af; }
        .btn-purple { background: #764ba2; color: white; }
        .btn-purple:hover { background: #5a3a7d; }
        .game-card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .top-bar { display: flex; justify-content: space-between; margin-bottom: 20px; gap: 10px; }
        .score-box { background: #f0f0f0; padding: 10px 15px; border-radius: 50px; font-weight: bold; font-size: 16px; flex: 1; text-align: center; }
        .timer { background: #22c55e !important; color: white; }
        .timer.warn { background: #eab308 !important; }
        .timer.danger { background: #ef4444 !important; color: white; }
        .question { font-size: 24px; font-weight: bold; text-align: center; margin: 30px 0; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 30px 0; }
        .option-btn { padding: 15px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; font-weight: bold; font-size: 16px; cursor: pointer; transition: all 0.3s; }
        .option-btn:hover:not(:disabled) { transform: scale(1.05); }
        .option-btn:active { transform: scale(0.95); }
        .option-btn:disabled { cursor: not-allowed; opacity: 0.7; }
        .option-btn.correct { background: #22c55e; }
        .option-btn.wrong { background: #ef4444; }
        .feedback { text-align: center; font-size: 20px; font-weight: bold; margin: 20px 0; min-height: 30px; }
        .reward { background: #fef3c7; border: 2px solid #fbbf24; border-radius: 10px; padding: 15px; margin: 20px 0; display: none; }
        .reward.show { display: block; }
        .next-btn { width: 100%; padding: 15px; display: none; margin-top: 20px; }
        .next-btn.show { display: block; }
        .finish { background: white; border-radius: 20px; padding: 40px; text-align: center; margin-top: 20px; }
        .finish-emoji { font-size: 100px; }
        .final-score { font-size: 40px; font-weight: bold; color: #22c55e; margin: 20px 0; }
        .stats-box { background: #f0f0f0; border-radius: 15px; padding: 25px; margin: 20px 0; }
        .stat-item { display: flex; justify-content: space-around; gap: 20px; }
        .stat-correct { background: #dcfce7; border: 2px solid #22c55e; border-radius: 10px; padding: 15px; flex: 1; text-align: center; }
        .stat-wrong { background: #fee2e2; border: 2px solid #ef4444; border-radius: 10px; padding: 15px; flex: 1; text-align: center; }
        .stat-number { font-size: 32px; color: #333; margin: 5px 0; }
        .stat-label { font-size: 14px; color: #666; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="welcome" class="screen show">
        <div class="welcome">
            <div class="emoji">💡</div>
            <h1>لعبة النصائح المشروطة</h1>
            <h2>🎮 مرحباً بك!</h2>
            
            <div class="student-box">
                <p>👨‍🎓 الطالب:</p>
                <p class="student-name">أحمد عبد الغفار</p>
            </div>
            
            <div class="student-box">
                <p>💡 اختر المستوى المناسب لك وأجب على 10 أسئلة</p>
                <p><strong>كل إجابة صحيحة = 5 نقاط + نصيحة 🌱</strong></p>
            </div>
            
            <button class="btn-easy" onclick="startGame('easy')">🌱 سهل</button>
            <button class="btn-medium" onclick="startGame('medium')">⚡ متوسط</button>
            <button class="btn-hard" onclick="startGame('hard')">🔥 صعب</button>
            
            <hr style="margin: 30px 0; border: none; border-top: 2px solid #ddd;">
            
            <h2 style="font-size: 20px; margin: 20px 0;">العاب أخرى</h2>
            <a href="https://worm-game-seven.vercel.app/" target="_blank" style="display: block; margin: 10px 0; text-decoration: none;">
                <button class="btn-purple">🐛 لعبة الدودة الجشعة</button>
            </a>
            
            <a href="https://a7-game.vercel.app/" target="_blank" style="display: block; margin: 10px 0; text-decoration: none;">
                <button class="btn-purple">🎮 لعبة النصائح الجزء 2</button>
            </a>
            
            <button class="btn-blue" onclick="showTipsScreen()">💡 25 نصيحة مفيدة</button>
        </div>
    </div>
    
    <div id="game" class="screen">
        <div class="game-card">
            <div class="top-bar">
                <div class="score-box">🏆 <span id="score">0</span></div>
                <div class="score-box timer" id="timerBox">⏱️ <span id="timer">30</span></div>
                <div class="score-box">السؤال <span id="qnum">1</span>/10</div>
            </div>
            
            <p style="text-align: center; color: #999; font-size: 12px;">اضغط ESC للإيقاف</p>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="feedback" id="feedback"></div>
            
            <div class="reward" id="reward">
                <h3>💚 نصيحة ذهبية:</h3>
                <p id="reward-text"></p>
            </div>
            
            <button class="btn-blue next-btn" id="nextBtn" onclick="nextQuestion()">التالي ➜</button>
        </div>
    </div>
    
    <div id="finish" class="screen">
        <div class="finish">
            <div class="finish-emoji">🎉</div>
            <h2>انتهت اللعبة!</h2>
            <p class="final-score" id="finalScore">0 نقطة</p>
            
            <div class="stats-box">
                <div class="stat-item">
                    <div class="stat-correct">
                        <div class="stat-number" id="correctCount">0</div>
                        <div class="stat-label">✅ إجابات صحيحة</div>
                    </div>
                    <div class="stat-wrong">
                        <div class="stat-number" id="wrongCount">0</div>
                        <div class="stat-label">❌ إجابات خطأ</div>
                    </div>
                </div>
            </div>
            
            <p>شكراً لك على المساهمة! 🌍</p>
            
            <button class="btn-blue" onclick="goHome()">العودة للبداية 🏠</button>
            <button class="btn-easy" onclick="restartGame()">العب مجدداً 🔄</button>
        </div>
    </div>
    
    <div id="pauseBg" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000;">
        <div class="welcome" style="width: 90%; max-width: 400px;">
            <h2>⏸️ تم الإيقاف</h2>
            <button class="btn-blue" onclick="resumeGame()">▶️ استمرار</button>
            <button class="btn-medium" onclick="restartGame()">🔄 إعادة</button>
            <button class="btn-hard" onclick="goHome()">⛔ إيقاف</button>
        </div>
    </div>
    
    <div id="tipsScreen" class="screen">
        <div class="welcome">
            <h2>💡 25 نصيحة مفيدة</h2>
            <div style="max-height: 500px; overflow-y: auto; text-align: right; padding: 20px;">
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">1. 🌱 ازرع شجرة واحدة على الأقل</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">2. 💧 لا تهدر الماء</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">3. ♻️ أعد تدوير البلاستيك</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">4. 📚 اقرأ كتاباً شهرياً</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">5. 🏃 مارس الرياضة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">6. 😴 نم 8 ساعات</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">7. 🥗 تناول صحي</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">8. 💧 اشرب 8 أكواب ماء</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">9. 🚴 استخدم الدراجة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">10. 🔌 أطفئ الأجهزة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">11. 😊 ابتسم وانشر السعادة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">12. 🤝 ساعد الآخرين</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">13. 🙏 كن شاكراً</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">14. 💪 تعلم مهارة جديدة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">15. 🎯 ضع أهدافاً واضحة</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">16. 👂 استمع للآخرين</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">17. 🧘 خذ وقتاً للاسترخاء</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">18. 📱 قلل من الهاتف</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">19. 🌞 استيقظ مبكراً</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">20. 🧹 نظف غرفتك</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">21. ❤️ عبر عن حبك</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">22. 🎨 مارس هواية</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">23. 🌍 تعرف على ثقافات</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">24. 🤐 كن صادقاً</div>
                <div style="background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #667eea;">25. 💭 فكر إيجابياً</div>
            </div>
            <button class="btn-blue" onclick="goHome()">العودة للبداية 🏠</button>
        </div>
    </div>
</div>

<script>
const tips = ['🌱 ازرع شجرة', '💧 لا تهدر الماء', '♻️ أعد التدوير', '📚 اقرأ كتاباً', '🏃 مارس الرياضة', '😴 نم بانتظام', '🥗 تناول صحي', '💧 اشرب ماء', '🚴 استخدم الدراجة', '🔌 أطفئ الأجهزة', '⏳ كن صبوراً'];

const easyQuestions = [
    { q: 'ما هو أكبر كوكب في المجموعة الشمسية؟', a: 'ج) المشتري', opts: ['أ) الأرض', 'ب) زحل', 'ج) المشتري', 'د) المريخ'] },
    { q: 'ما عاصمة فرنسا؟', a: 'ب) باريس', opts: ['أ) مدريد', 'ب) باريس', 'ج) برلين', 'د) لندن'] },
    { q: 'كم عدد أركان الإسلام؟', a: 'ب) 5', opts: ['أ) 4', 'ب) 5', 'ج) 6', 'د) 7'] },
    { q: 'من النبي الذي ابتلعه الحوت؟', a: 'ج) يونس', opts: ['أ) موسى', 'ب) نوح', 'ج) يونس', 'د) يوسف'] },
    { q: 'من هو مخترع المصباح الكهربائي؟', a: 'أ) أديسون', opts: ['أ) أديسون', 'ب) نيوتن', 'ج) أينشتاين', 'د) غاليليو'] },
    { q: 'في أي قارة تقع مصر؟', a: 'ب) أفريقيا', opts: ['أ) آسيا', 'ب) أفريقيا', 'ج) أوروبا', 'د) أمريكا'] },
    { q: 'كم دقيقة في الساعة؟', a: 'ج) 60', opts: ['أ) 30', 'ب) 45', 'ج) 60', 'د) 90'] },
    { q: 'ما هو لون السماء وقت النهار؟', a: 'أ) أزرق', opts: ['أ) أزرق', 'ب) أحمر', 'ج) رمادي', 'د) أخضر'] },
    { q: 'الحيوان الذي يُلقب بـ "سفينة الصحراء" هو؟', a: 'ب) الجمل', opts: ['أ) الحصان', 'ب) الجمل', 'ج) الغزال', 'د) الفيل'] },
    { q: 'ما هو صوت القط؟', a: 'ب) مواء', opts: ['أ) نباح', 'ب) مواء', 'ج) صهيل', 'د) زئير'] }
];

const mediumQuestions = [
    { q: 'ما هو الكوكب الأحمر؟', a: 'ب) المريخ', opts: ['أ) عطارد', 'ب) المريخ', 'ج) زحل', 'د) الأرض'] },
    { q: 'من أول من جهر بالقرآن في مكة؟', a: 'ب) عبدالله بن مسعود', opts: ['أ) عمر بن الخطاب', 'ب) عبدالله بن مسعود', 'ج) بلال بن رباح', 'د) علي بن أبي طالب'] },
    { q: 'كم عدد سور القرآن الكريم؟', a: 'ج) 114', opts: ['أ) 110', 'ب) 112', 'ج) 114', 'د) 116'] },
    { q: 'ما أكبر محيط في العالم؟', a: 'ج) الهادي', opts: ['أ) الأطلسي', 'ب) الهندي', 'ج) الهادي', 'د) المتجمد'] },
    { q: 'في أي عام تأسست الأمم المتحدة؟', a: 'ب) 1945', opts: ['أ) 1918', 'ب) 1945', 'ج) 1960', 'د) 1971'] },
    { q: 'ما العنصر الكيميائي الذي رمزه O؟', a: 'أ) الأكسجين', opts: ['أ) الأكسجين', 'ب) الحديد', 'ج) الفضة', 'د) الزئبق'] },
    { q: 'ما اسم أول خليفة عباسي؟', a: 'ب) السفاح', opts: ['أ) المنصور', 'ب) السفاح', 'ج) الرشيد', 'د) المعتصم'] },
    { q: 'كم قلب للأخطبوط؟', a: 'ج) 3', opts: ['أ) 1', 'ب) 2', 'ج) 3', 'د) 4'] },
    { q: 'ما اسم أطول نهر في العالم؟', a: 'أ) الأمازون', opts: ['أ) الأمازون', 'ب) النيل', 'ج) المسيسيبي', 'د) الدانوب'] },
    { q: 'من الذي بنى الكعبة أول مرة؟', a: 'أ) إبراهيم وإسماعيل', opts: ['أ) إبراهيم وإسماعيل', 'ب) نوح', 'ج) يعقوب', 'د) آدم'] }
];

const hardQuestions = [
    { q: 'كم يبلغ قطر الأرض تقريبًا؟', a: 'ب) 12,742 كم', opts: ['أ) 10,000 كم', 'ب) 12,742 كم', 'ج) 20,000 كم', 'د) 8,000 كم'] },
    { q: 'في أي عام وُلد النبي محمد ﷺ؟', a: 'ب) 570م', opts: ['أ) 520م', 'ب) 570م', 'ج) 600م', 'د) 610م'] },
    { q: 'من أول من وضع علم الجبر؟', a: 'أ) الخوارزمي', opts: ['أ) الخوارزمي', 'ب) ابن سينا', 'ج) الفارابي', 'د) البيروني'] },
    { q: 'ما أول معركة في الإسلام؟', a: 'ب) بدر', opts: ['أ) أحد', 'ب) بدر', 'ج) الخندق', 'د) تبوك'] },
    { q: 'كم عدد أحزاب القرآن؟', a: 'أ) 60 حزب', opts: ['أ) 60 حزب', 'ب) 120', 'ج) 30', 'د) 90'] },
    { q: 'في أي عام سقطت الأندلس؟', a: 'ب) 1492', opts: ['أ) 1392', 'ب) 1492', 'ج) 1592', 'د) 1692'] },
    { q: 'من هو أول طبيب في الإسلام؟', a: 'أ) الحارث بن كلدة', opts: ['أ) الحارث بن كلدة', 'ب) ابن سينا', 'ج) الرازي', 'د) الزهراوي'] },
    { q: 'ما اسم أطول نهر في آسيا؟', a: 'أ) اليانغتسي', opts: ['أ) اليانغتسي', 'ب) الميكونغ', 'ج) السند', 'د) الفرات'] },
    { q: 'من هو مكتشف الدورة الدموية الصغرى؟', a: 'أ) ابن النفيس', opts: ['أ) ابن النفيس', 'ب) هارفي', 'ج) الرازي', 'د) جالينوس'] },
    { q: 'كم عدد العضلات في جسم الإنسان؟', a: 'ب) 620', opts: ['أ) 300', 'ب) 620', 'ج) 700', 'د) 800'] }
];

const game = {
    level: '',
    questions: [],
    currentQ: 0,
    score: 0,
    correct: 0,
    wrong: 0,
    timer: null,
    timeLeft: 30,
    isPaused: false
};

function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('show'));
    document.getElementById(id).classList.add('show');
}

function startGame(level) {
    game.level = level;
    game.currentQ = 0;
    game.score = 0;
    game.correct = 0;
    game.wrong = 0;
    game.isPaused = false;
    
    if (level === 'easy') game.questions = shuffle([...easyQuestions]).slice(0, 10);
    else if (level === 'medium') game.questions = shuffle([...mediumQuestions]).slice(0, 10);
    else game.questions = shuffle([...hardQuestions]).slice(0, 10);
    
    showScreen('game');
    loadQuestion();
}

function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}

function loadQuestion() {
    if (game.currentQ >= 10) {
        endGame();
        return;
    }
    
    const q = game.questions[game.currentQ];
    document.getElementById('question').textContent = q.q;
    document.getElementById('qnum').textContent = game.currentQ + 1;
    document.getElementById('score').textContent = game.score;
    document.getElementById('feedback').textContent = '';
    document.getElementById('reward').classList.remove('show');
    document.getElementById('nextBtn').classList.remove('show');
    
    const opts = document.getElementById('options');
    opts.innerHTML = '';
    const shuffledOpts = shuffle([...q.opts]);
    
    shuffledOpts.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt, btn);
        opts.appendChild(btn);
    });
    
    startTimer();
}

function startTimer() {
    game.timeLeft = 30;
    const timerEl = document.getElementById('timer');
    const timerBox = document.getElementById('timerBox');
    
    if (game.timer) clearInterval(game.timer);
    
    game.timer = setInterval(() => {
        if (game.isPaused) return;
        
        game.timeLeft--;
        timerEl.textContent = game.timeLeft;
        
        if (game.timeLeft <= 5) timerBox.className = 'score-box timer danger';
        else if (game.timeLeft <= 10) timerBox.className = 'score-box timer warn';
        else timerBox.className = 'score-box timer';
        
        if (game.timeLeft <= 0) {
            clearInterval(game.timer);
            wrongAnswer();
        }
    }, 1000);
}

function checkAnswer(selected, btn) {
    clearInterval(game.timer);
    const q = game.questions[game.currentQ];
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(b => b.disabled = true);
    
    if (selected === q.a) {
        btn.classList.add('correct');
        game.score += 5;
        game.correct++;
        document.getElementById('score').textContent = game.score;
        document.getElementById('feedback').textContent = '✅ إجابة صحيحة!';
        document.getElementById('feedback').style.color = '#22c55e';
        
        const tip = tips[Math.floor(Math.random() * tips.length)];
        document.getElementById('reward-text').textContent = tip;
        document.getElementById('reward').classList.add('show');
    } else {
        btn.classList.add('wrong');
        buttons.forEach(b => {
            if (b.textContent === q.a) b.classList.add('correct');
        });
        game.wrong++;
        document.getElementById('feedback').textContent = '❌ إجابة خاطئة!';
        document.getElementById('feedback').style.color = '#ef4444';
    }
    
    document.getElementById('nextBtn').classList.add('show');
}

function wrongAnswer() {
    const q = game.questions[game.currentQ];
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(b => {
        b.disabled = true;
        if (b.textContent === q.a) b.classList.add('correct');
    });
    game.wrong++;
    document.getElementById('feedback').textContent = '⏰ انتهى الوقت!';
    document.getElementById('feedback').style.color = '#ef4444';
    document.getElementById('nextBtn').classList.add('show');
}

function nextQuestion() {
    game.currentQ++;
    loadQuestion();
}

function endGame() {
    clearInterval(game.timer);
    showScreen('finish');
    document.getElementById('finalScore').textContent = game.score + ' نقطة';
    document.getElementById('correctCount').textContent = game.correct;
    document.getElementById('wrongCount').textContent = game.wrong;
}

function goHome() {
    clearInterval(game.timer);
    document.getElementById('pauseBg').classList.add('hidden');
    game.isPaused = false;
    showScreen('welcome');
}

function restartGame() {
    clearInterval(game.timer);
    document.getElementById('pauseBg').classList.add('hidden');
    game.isPaused = false;
    startGame(game.level);
}

function showTipsScreen() {
    showScreen('tipsScreen');
}

function resumeGame() {
    game.isPaused = false;
    document.getElementById('pauseBg').classList.remove('hidden');
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && document.getElementById('game').classList.contains('show')) {
        if (game.isPaused) {
            resumeGame();
        } else {
            game.isPaused = true;
            document.getElementById('pauseBg').classList.remove('hidden');
        }
    }
});
</script>
